"use strict";(()=>{var e={};e.id=21,e.ids=[21,660],e.modules={9858:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>m,default:()=>p,getServerSideProps:()=>g,getStaticPaths:()=>x,getStaticProps:()=>h,reportWebVitals:()=>v,routeModule:()=>q,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>P,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>j});var a=r(7093),o=r(5244),i=r(1323),l=r(1777),c=r.n(l),n=r(6719),d=r(1584),u=e([n,d]);[n,d]=u.then?(await u)():u;let p=(0,i.l)(d,"default"),h=(0,i.l)(d,"getStaticProps"),x=(0,i.l)(d,"getStaticPaths"),g=(0,i.l)(d,"getServerSideProps"),m=(0,i.l)(d,"config"),v=(0,i.l)(d,"reportWebVitals"),j=(0,i.l)(d,"unstable_getStaticProps"),f=(0,i.l)(d,"unstable_getStaticPaths"),S=(0,i.l)(d,"unstable_getStaticParams"),b=(0,i.l)(d,"unstable_getServerProps"),P=(0,i.l)(d,"unstable_getServerSideProps"),q=new a.PagesRouteModule({definition:{kind:o.x.PAGES,page:"/addProducts",pathname:"/addProducts",bundlePath:"",filename:""},components:{App:n.default,Document:c()},userland:d});s()}catch(e){s(e)}})},5370:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{Z:()=>m});var a=r(997),o=r(6689),i=r(9648),l=r(5005),c=r(2529),n=r(5147),d=r(6022),u=r(271),p=r.n(u),h=r(2777),x=r(1163),g=e([i]);i=(g.then?(await g)():g)[0];let m=function({selectedCollection:e}){let t=(0,d.useSelector)(e=>e.auth),[r,s]=(0,o.useState)([]),[u,g]=(0,o.useState)([]),[m,v]=(0,o.useState)(1),[j]=(0,o.useState)(10),[f,S]=(0,o.useState)(""),[b,P]=(0,o.useState)(0),q=(0,x.useRouter)(),y=async()=>{try{let e=await i.default.get("https://almsports-node-techalams-projects.vercel.app/api/products/products?category=",{headers:{Authorization:`Bearer ${t?.accessToken}`},params:{limit:j,offset:(m-1)*j,name:f}});s(e.data),P(e.headers["x-total-count"])}catch(e){console.error("Error fetching products:",e),p().fire({icon:"error",title:"Error fetching products",text:e?.response?.data?.error||"Error fetching products!"})}};(0,o.useEffect)(()=>{y()},[e,m,f]);let C=e=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},$=async()=>{if(!u.length){p().fire("Validation","Please select at least one product.","warning");return}try{let r=await i.default.post("https://almsports-node-techalams-projects.vercel.app/api/catalouges/addProductToCatalouge",{id:e,productIds:u},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t?.accessToken}`}});200===r.status&&(p().fire("Success","Products added to catalouge successfully!","success"),g([]),y())}catch(e){console.error("Error saving products:",e),p().fire({icon:"error",title:"Error saving products",text:e?.response?.data?.error||"Could not save products to catalouge."})}};return(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)(l.Z,{size:"sm",className:"mb-2",onClick:()=>q.push(`/viewCatalogue?id=${q?.query?.selectedCollection}`),children:[a.jsx(h.rDJ,{})," View Catalogue"]}),a.jsx("h3",{children:"Add Products to Catalouge"}),a.jsx(c.Z.Control,{type:"text",placeholder:"Search products by name",value:f,onChange:e=>S(e.target.value),className:"my-3"}),(0,a.jsxs)(n.Z,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Select"}),a.jsx("th",{children:"Product Name"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Price"})]})}),a.jsx("tbody",{children:r.length>0?r.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:a.jsx(c.Z.Check,{type:"checkbox",checked:u.includes(e.id),onChange:()=>C(e.id)})}),a.jsx("td",{children:e.name}),a.jsx("td",{children:e.category}),a.jsx("td",{children:e.price})]},e.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",children:"No products found."})})})]}),(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx(l.Z,{variant:"primary",onClick:$,disabled:0===u.length,children:"Save Selected Products"}),(0,a.jsxs)("div",{children:["Page:"," ",a.jsx(l.Z,{variant:"light",disabled:1===m,onClick:()=>v(e=>e-1),children:"<"})," ",m," ",a.jsx(l.Z,{variant:"light",disabled:m*j>=b,onClick:()=>v(e=>e+1),children:">"})]})]})]})};s()}catch(e){s(e)}})},1584:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>c});var a=r(997),o=r(5370),i=r(1163);r(6689);var l=e([o]);function c(){let{selectedCollection:e}=(0,i.useRouter)().query;return a.jsx(o.Z,{selectedCollection:e})}o=(l.then?(await l)():l)[0],s()}catch(e){s(e)}})},5147:(e,t,r)=>{r.d(t,{Z:()=>c});var s=r(9003),a=r.n(s),o=r(6689),i=r(6792),l=r(997);let c=o.forwardRef(({bsPrefix:e,className:t,striped:r,bordered:s,borderless:o,hover:c,size:n,variant:d,responsive:u,...p},h)=>{let x=(0,i.vE)(e,"table"),g=a()(t,x,d&&`${x}-${d}`,n&&`${x}-${n}`,r&&`${x}-${"string"==typeof r?`striped-${r}`:"striped"}`,s&&`${x}-bordered`,o&&`${x}-borderless`,c&&`${x}-hover`),m=(0,l.jsx)("table",{...p,className:g,ref:h});if(u){let e=`${x}-responsive`;return"string"==typeof u&&(e=`${e}-${u}`),(0,l.jsx)("div",{className:e,children:m})}return m})},3365:e=>{e.exports=require("@mui/icons-material/Menu")},5184:e=>{e.exports=require("@reduxjs/toolkit")},5205:e=>{e.exports=require("@restart/hooks/useEventCallback")},9642:e=>{e.exports=require("@restart/ui/Button")},8180:e=>{e.exports=require("@restart/ui/Nav")},5822:e=>{e.exports=require("@restart/ui/NavItem")},6638:e=>{e.exports=require("@restart/ui/SelectableContext")},9003:e=>{e.exports=require("classnames")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},580:e=>{e.exports=require("prop-types")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},6022:e=>{e.exports=require("react-redux")},997:e=>{e.exports=require("react/jsx-runtime")},4161:e=>{e.exports=require("redux-persist")},1127:e=>{e.exports=require("redux-persist/integration/react")},8936:e=>{e.exports=require("redux-persist/lib/storage")},271:e=>{e.exports=require("sweetalert2")},3372:e=>{e.exports=require("uncontrollable")},5548:e=>{e.exports=require("warning")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[255,742,777,815,146],()=>r(9858));module.exports=s})();