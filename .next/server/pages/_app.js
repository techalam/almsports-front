(()=>{var e={};e.id=888,e.ids=[888],e.modules={776:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{Z:()=>q});var o=r(997),i=r(6689),n=r(4051),a=r(5005),c=r(8695),u=r(1664),l=r.n(u),d=r(3365),x=r.n(d),p=r(1163),h=r(80),g=r(6022),m=r(9648),f=r(271),j=r.n(f),k=r(7649),y=e([m]);function q(){let[e,t]=(0,i.useState)(!1),r=(0,p.useRouter)(),s=(0,g.useSelector)(e=>e.auth.user),u=(0,g.useDispatch)();(0,i.useEffect)(()=>{let e=()=>{t(!1)};return r.events.on("routeChangeStart",e),()=>{r.events.off("routeChangeStart",e)}},[r]);let d=async()=>{try{await m.default.post("https://almsports-node-techalams-projects.vercel.app/api/auth/logout",{token:s?.accessToken}),u((0,k.av)({user:null,accessToken:null,refreshToken:null})),r.push("/login")}catch(e){j().fire({icon:"error",title:"Error",text:"Failed to logout. Please try again."}),console.error("Logout error:",e)}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.Z,{className:"flex justify-content-between align-items-center px-4",style:{height:"60px",background:"linear-gradient(135deg, #43cea2, #185a9d)",color:"white"},children:[s&&o.jsx(a.Z,{variant:"light",onClick:()=>{t(!e)},style:{zIndex:100,background:"none",border:"none",width:"50px",color:"white"},children:e?o.jsx(h.rk2,{size:25}):o.jsx(x(),{})}),o.jsx("h5",{className:"p-0 m-0",style:{width:"auto"},children:"ALM SPORTS"})]}),o.jsx("div",{style:{width:e?"100%":0,height:"100%",background:"linear-gradient(135deg, #43cea2, #185a9d)",position:"fixed",top:0,left:0,overflow:"hidden",transition:"0.3s",paddingTop:"60px",fontSize:"3em",textAlign:"center",zIndex:99},children:(0,o.jsxs)(c.Z,{className:"mt-5 fs-1",children:[o.jsx(c.Z.Item,{className:"mt-3",style:{background:"none"},children:o.jsx(l(),{style:{textDecoration:"none",color:"#fff"},href:"/",children:"Dashboard"})}),o.jsx(c.Z.Item,{className:"mt-3",style:{background:"none"},children:o.jsx(l(),{style:{textDecoration:"none",color:"#fff"},href:"/collections",children:"Collections"})}),o.jsx(c.Z.Item,{className:"mt-3",style:{background:"none"},children:o.jsx(l(),{style:{textDecoration:"none",color:"#fff"},href:"/catalogues",children:"Catalogues"})}),o.jsx(c.Z.Item,{className:"mt-3",style:{background:"none"},children:o.jsx(l(),{style:{textDecoration:"none",color:"#fff"},href:"/Products",children:"Products"})}),o.jsx(c.Z.Item,{onClick:()=>d(),className:"p-4",style:{background:"none",position:"absolute",bottom:0,width:"100%"},children:o.jsx("p",{style:{textDecoration:"none",color:"#fff"},children:"Logout"})})]})})]})}m=(y.then?(await y)():y)[0],s()}catch(e){s(e)}})},6719:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>g});var o=r(997),i=r(7544),n=r.n(i);r(6764);var a=r(6022),c=r(260),u=r(776),l=r(1163),d=r(6689),x=r(1127),p=e([u]);function h({children:e}){let t=(0,l.useRouter)(),r=(0,a.useSelector)(e=>e.auth.user),s="/login"===t.pathname||"/productDetails"===t.pathname||"/viewCatalogue"===t.pathname||"/viewCatalogue"===t.pathname,o=(0,a.useSelector)(e=>e._persist?.rehydrated);return(0,d.useEffect)(()=>{console.log("isLoginPage",s),r||s?r&&"/login"===t.pathname&&t.push("/"):t.push("/login")},[r,s,t,o]),e}function g({Component:e,pageProps:t}){let r=(0,l.useRouter)(),s="/login"!==r.pathname;return o.jsx(a.Provider,{store:c.h,children:o.jsx(x.PersistGate,{loading:null,persistor:c.D,children:(0,o.jsxs)(h,{children:[s&&o.jsx(u.Z,{}),o.jsx("div",{style:{padding:"20px 10px"},children:o.jsx(e,{...t})})]})})})}u=(p.then?(await p)():p)[0],g.getInitialProps=async e=>({...await n().getInitialProps(e)}),s()}catch(e){s(e)}})},7649:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>n,av:()=>o});let s=(0,r(5184).createSlice)({name:"auth",initialState:{user:null,accessToken:null,refreshToken:null},reducers:{setUser:(e,t)=>{e.user=t.payload.user,e.accessToken=t.payload.accessToken,e.refreshToken=t.payload.refreshToken},logout:e=>{e.user=null,e.accessToken=null,e.refreshToken=null}}}),{setUser:o,logout:i}=s.actions,n=s.reducer},260:(e,t,r)=>{"use strict";r.d(t,{D:()=>l,h:()=>u});var s=r(5184),o=r(7649),i=r(4161),n=r(8936);let a={key:"auth",storage:r.n(n)()},c=(0,i.persistReducer)(a,o.ZP),u=(0,s.configureStore)({reducer:{auth:c},middleware:e=>e({serializableCheck:{ignoredActions:[i.FLUSH,i.REHYDRATE,i.PAUSE,i.PERSIST,i.PURGE,i.REGISTER]}})}),l=(0,i.persistStore)(u)},6764:()=>{},3365:e=>{"use strict";e.exports=require("@mui/icons-material/Menu")},5184:e=>{"use strict";e.exports=require("@reduxjs/toolkit")},5205:e=>{"use strict";e.exports=require("@restart/hooks/useEventCallback")},9642:e=>{"use strict";e.exports=require("@restart/ui/Button")},8180:e=>{"use strict";e.exports=require("@restart/ui/Nav")},5822:e=>{"use strict";e.exports=require("@restart/ui/NavItem")},6638:e=>{"use strict";e.exports=require("@restart/ui/SelectableContext")},9003:e=>{"use strict";e.exports=require("classnames")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},6022:e=>{"use strict";e.exports=require("react-redux")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},4161:e=>{"use strict";e.exports=require("redux-persist")},1127:e=>{"use strict";e.exports=require("redux-persist/integration/react")},8936:e=>{"use strict";e.exports=require("redux-persist/lib/storage")},271:e=>{"use strict";e.exports=require("sweetalert2")},3372:e=>{"use strict";e.exports=require("uncontrollable")},5548:e=>{"use strict";e.exports=require("warning")},9648:e=>{"use strict";e.exports=import("axios")},7147:e=>{"use strict";e.exports=require("fs")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[255,742],()=>r(6719));module.exports=s})();