(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{823:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/viewCatalogue",function(){return r(6127)}])},6127:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(5893),a=r(7294),s=r(7066),i=r(6455),l=r.n(i),o=r(682),c=r(2529),d=r(3967),u=r.n(d),m=r(6792),p=r(6558);let h=a.createContext(null);h.displayName="InputGroupContext";let x=a.forwardRef(({className:e,bsPrefix:t,as:r="span",...a},s)=>(t=(0,m.vE)(t,"input-group-text"),(0,n.jsx)(r,{ref:s,className:u()(e,t),...a})));x.displayName="InputGroupText";let f=a.forwardRef(({bsPrefix:e,size:t,hasValidation:r,className:s,as:i="div",...l},o)=>{e=(0,m.vE)(e,"input-group");let c=(0,a.useMemo)(()=>({}),[]);return(0,n.jsx)(h.Provider,{value:c,children:(0,n.jsx)(i,{ref:o,...l,className:u()(s,e,t&&`${e}-${t}`,r&&"has-validation")})})});f.displayName="InputGroup";var g=Object.assign(f,{Text:x,Radio:e=>(0,n.jsx)(x,{children:(0,n.jsx)(p.Z,{type:"radio",...e})}),Checkbox:e=>(0,n.jsx)(x,{children:(0,n.jsx)(p.Z,{type:"checkbox",...e})})});let v=a.forwardRef(({bsPrefix:e,variant:t,animation:r="border",size:a,as:s="div",className:i,...l},o)=>{e=(0,m.vE)(e,"spinner");let c=`${e}-${r}`;return(0,n.jsx)(s,{ref:o,...l,className:u()(i,c,a&&`${c}-${a}`,t&&`text-${t}`)})});v.displayName="Spinner";var j=r(4051),w=r(1555),b=r(1330),N=r(1163),y=e=>{let{id:t}=e,[r,i]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(""),[h,x]=(0,a.useState)({}),f=(0,N.useRouter)(),y=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{let r=await s.Z.get("https://almsports-node-techalams-projects.vercel.app/api/catalouges/getProductsUnderCatalouge",{params:{catalogueId:t,name:e}});i(r.data)}catch(e){var r,n;l().fire({icon:"error",title:"Error fetching catalogue products",text:(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.error)||"Something went wrong!"})}finally{u(!1)}};return(0,a.useEffect)(()=>{t&&(u(!0),y())},[t]),(0,n.jsxs)(o.Z,{className:"py-4",children:[(0,n.jsx)(c.Z,{className:"mb-4",children:(0,n.jsx)(g,{children:(0,n.jsx)(c.Z.Control,{type:"text",placeholder:"Search product by name...",value:m,onChange:e=>{let t=e.target.value;p(t),y(t)}})})}),d?(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)(v,{animation:"border",variant:"primary"})}):0===r.length?(0,n.jsx)("p",{children:"No products found in this catalogue."}):r.map(e=>{var t;return(0,n.jsxs)("div",{className:"mb-5",children:[(0,n.jsx)("h4",{children:e.name}),(0,n.jsx)(j.Z,{style:{flexWrap:h[null==e?void 0:e.name]?"wrap":"nowrap",overflow:"auto"},xs:1,sm:2,md:3,lg:4,className:"mt-2 g-4 d-flex align-items-center justify-content-between",children:e.products.map(e=>(0,n.jsxs)(w.Z,{xs:5,sm:5,md:5,lg:5,style:{height:"200px",cursor:"pointer"},onClick:()=>{f.push("/productDetails?id=".concat(e.id))},className:"shadow-sm rounded-3 m-2 border-0",children:[(0,n.jsx)(b.Z,{style:{height:"120px",width:"90%",objectFit:"contain"},src:e.images&&e.images[0]||"./images/noImg.webp",onError:e=>{e.target.onerror=null,e.target.src="./images/noImg.webp"}}),(0,n.jsx)("h6",{style:{fontWeight:"lighter",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),(0,n.jsxs)("h6",{children:["Rs: ",e.price]})]},e.id))}),(0,n.jsx)(j.Z,{className:"d-flex justify-content-center align-items-center mt-2",children:(0,n.jsx)(w.Z,{xs:12,className:"text-center",children:(0,n.jsx)("button",{className:"btn btn-link",onClick:()=>x(t=>({...t,[e.name]:!t[e.name]})),children:(null==e?void 0:null===(t=e.products)||void 0===t?void 0:t.length)>2&&(h[e.name]?"Show Less":"Show More")})})})]},e.name)})]})},C=()=>{let{id:e}=(0,N.useRouter)().query;return(0,n.jsx)(y,{id:e})}},682:function(e,t,r){"use strict";var n=r(3967),a=r.n(n),s=r(7294),i=r(6792),l=r(5893);let o=s.forwardRef(({bsPrefix:e,fluid:t=!1,as:r="div",className:n,...s},o)=>{let c=(0,i.vE)(e,"container"),d="string"==typeof t?`-${t}`:"-fluid";return(0,l.jsx)(r,{ref:o,...s,className:a()(n,t?`${c}${d}`:c)})});o.displayName="Container",t.Z=o},1330:function(e,t,r){"use strict";var n=r(3967),a=r.n(n),s=r(7294),i=r(5697),l=r.n(i),o=r(6792),c=r(5893);l().string,l().bool,l().bool,l().bool,l().bool;let d=s.forwardRef(({bsPrefix:e,className:t,fluid:r=!1,rounded:n=!1,roundedCircle:s=!1,thumbnail:i=!1,...l},d)=>(e=(0,o.vE)(e,"img"),(0,c.jsx)("img",{ref:d,...l,className:a()(t,r&&`${e}-fluid`,n&&"rounded",s&&"rounded-circle",i&&`${e}-thumbnail`)})));d.displayName="Image",t.Z=d}},function(e){e.O(0,[529,888,774,179],function(){return e(e.s=823)}),_N_E=e.O()}]);